# PA 1-2 Graphics 解题报告

## 1.数据结构 ##

向量(数组)

## 2.算法原理 ##

由于任意两条线段不相交，因此应当按坐标排序后顺序相连。toLeft测试将线段视为有向，通过叉乘运算求特定点与线段端点组成的三角形有向面积正负判断该点是否在线段左侧。所求交点个数等同于求给定点在这些线段中多少条的右侧，因此可以以toLeft测试返回值作为标准对排序后的线段端点数组进行二分查找(若在左侧即向后，在右侧则向前)，结果即为答案。

## 3.实现要点 ##

二分查找、归并排序、toLeft测试的实现

## 4.解题过程中的问题与技巧

发现提交后出现WA，利用对拍工具重新编写数据生成器后发现问题测例并进行调试解决。

## 5.复杂度分析 ##

(1)时间复杂度

由于toLeft测试的时间复杂度为O(1)，因此二分查找复杂度与原先相同，为O(logn)。共进行m次二分查找，而归并排序的时间复杂度为O(nlogn)，因此总体复杂度为O((n + m)logn)。

(2)空间复杂度

造成空间复杂度的主要原因为使用数组存储线段端点坐标与排序过程中归并时新建数组，总体为O(n)。

## 6.参考资料 ##

完成过程中参考了讲义对于二分查找与归并排序算法的实现，同时在互联网上搜索了解了toLeft测试的原理。
