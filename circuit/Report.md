# PA 3-1 Circuit 解题报告

## 1.数据结构 ##

二叉树、链表队列

## 2.算法原理 ##

+ 使用二叉树记录二进制字符串：从根出发，下一位为0则进入左孩子，为1则进入右孩子。在节点中记录经过节点的字符串数。
+ 插入字符串时，根据上述方法不断进入下一层子节点，若子节点为空则创建之，否则计数+1
+ 删除字符串时，按照上述过程深入，沿途节点计数-1
+ 由于可能存在字符串重复，需要在叶子节点中记录同一字符串的不同编号。由于每次在最靠前处删除而在最后添加，出于节省空间的考虑可用链表实现队列存储。
+ 查询时采用贪心法，优先进入与下一位不同的方向(只要计数 > 0)以使异或值最大。到达叶子节点后查找第一个与本字符串不同的编号。

## 3.实现要点 ##

+ 为节省空间，仅在叶子节点中存储队列，为此使叶子节点类继承节点类，通过静态类型转换实现访问
+ 需考虑输入规模较小的情况，避免节点插入、删除错误
+ 注意返回第一个与本字符串不同的编号

## 4.解题过程中的问题与技巧

使用数组统一管理节点而不是在堆上分配内存，节省时间且更好估计实际占用空间

## 5.复杂度分析 ##

(1)时间复杂度

每次插入、删除、访问均需在二叉树中向下64层，每个字符串均摊而言插入一次、查找一次、删除一次，因此时间复杂度为O(n).

(2)空间复杂度

每个字符串需要64个树节点、一个链表节点与存储其本身的长度为64的`std::string`的空间，因此空间复杂度为O(n).

